<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 520 700" font-family="system-ui, -apple-system, sans-serif">
  <defs>
    <marker id="arr" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#555"/>
    </marker>
    <marker id="arrRed" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#E74C3C"/>
    </marker>
    <marker id="arrGreen" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#27AE60"/>
    </marker>
    <marker id="arrPurple" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#8E44AD"/>
    </marker>
  </defs>

  <rect width="520" height="700" fill="#fafafa" rx="12"/>

  <text x="260" y="32" text-anchor="middle" font-size="16" font-weight="bold" fill="#222">Software Feature Process</text>
  <text x="260" y="50" text-anchor="middle" font-size="11" fill="#888">Multiple agents, each in a dedicated role</text>

  <!-- 1. You brief -->
  <rect x="160" y="75" width="200" height="50" rx="8" fill="#E8D5F5" stroke="#9B59B6" stroke-width="2"/>
  <text x="260" y="97" text-anchor="middle" font-size="12" font-weight="bold" fill="#6C3483">You Brief</text>
  <text x="260" y="112" text-anchor="middle" font-size="10" fill="#6C3483">"Add a search feature to the app"</text>

  <line x1="260" y1="125" x2="260" y2="148" stroke="#555" stroke-width="1.5" marker-end="url(#arr)"/>

  <!-- 2. Manager Agent -->
  <rect x="160" y="153" width="200" height="50" rx="8" fill="#D5F5E3" stroke="#27AE60" stroke-width="2"/>
  <text x="260" y="175" text-anchor="middle" font-size="12" font-weight="bold" fill="#1E8449">Manager Agent</text>
  <text x="260" y="190" text-anchor="middle" font-size="10" fill="#1E8449">dispatches work, tracks progress</text>

  <line x1="260" y1="203" x2="260" y2="226" stroke="#555" stroke-width="1.5" marker-end="url(#arr)"/>

  <!-- 3. Explorer Agent -->
  <rect x="160" y="231" width="200" height="50" rx="8" fill="#D6EAF8" stroke="#2E86C1" stroke-width="2"/>
  <text x="260" y="253" text-anchor="middle" font-size="12" font-weight="bold" fill="#21618C">Explorer Agent</text>
  <text x="260" y="268" text-anchor="middle" font-size="10" fill="#21618C">reads codebase, writes spec file</text>

  <line x1="260" y1="281" x2="260" y2="304" stroke="#555" stroke-width="1.5" marker-end="url(#arr)"/>

  <!-- Gate 1 -->
  <rect x="195" y="306" width="130" height="26" rx="4" fill="#fff" stroke="#888" stroke-width="1" stroke-dasharray="4,2"/>
  <text x="260" y="323" text-anchor="middle" font-size="10" fill="#888">Gate: you approve the plan</text>

  <line x1="260" y1="332" x2="260" y2="355" stroke="#555" stroke-width="1.5" marker-end="url(#arr)"/>

  <!-- 4. Developer Agent -->
  <rect x="160" y="360" width="200" height="50" rx="8" fill="#FDEBD0" stroke="#E67E22" stroke-width="2"/>
  <text x="260" y="382" text-anchor="middle" font-size="12" font-weight="bold" fill="#A04000">Developer Agent</text>
  <text x="260" y="397" text-anchor="middle" font-size="10" fill="#A04000">writes code, runs tests, deploys</text>

  <line x1="260" y1="410" x2="260" y2="433" stroke="#555" stroke-width="1.5" marker-end="url(#arr)"/>

  <!-- 5. Reviewer Agent -->
  <rect x="160" y="438" width="200" height="50" rx="8" fill="#F9E79F" stroke="#F1C40F" stroke-width="2"/>
  <text x="260" y="460" text-anchor="middle" font-size="12" font-weight="bold" fill="#7D6608">Reviewer Agent</text>
  <text x="260" y="475" text-anchor="middle" font-size="10" fill="#7D6608">checks quality, approves or rejects</text>

  <!-- Iteration loop (right side) -->
  <path d="M 360 460 C 420 460, 420 385, 360 385" fill="none" stroke="#E74C3C" stroke-width="2" stroke-dasharray="6,3" marker-end="url(#arrRed)"/>
  <text x="430" y="418" text-anchor="middle" font-size="10" font-weight="600" fill="#E74C3C">Iterate</text>

  <!-- Done arrow -->
  <line x1="260" y1="488" x2="260" y2="517" stroke="#27AE60" stroke-width="1.5" marker-end="url(#arrGreen)"/>
  <text x="278" y="508" font-size="10" fill="#27AE60" font-weight="600">Done</text>

  <!-- 6. Review Sprint File -->
  <rect x="160" y="522" width="200" height="50" rx="8" fill="#FADBD8" stroke="#E74C3C" stroke-width="1.5"/>
  <text x="260" y="544" text-anchor="middle" font-size="12" font-weight="600" fill="#922B21">Review Sprint File</text>
  <text x="260" y="559" text-anchor="middle" font-size="10" fill="#922B21">what went well, what took too long</text>

  <line x1="260" y1="572" x2="260" y2="595" stroke="#555" stroke-width="1.5" marker-end="url(#arr)"/>

  <!-- 7. Update Rules -->
  <rect x="160" y="600" width="200" height="50" rx="8" fill="#F5EEF8" stroke="#8E44AD" stroke-width="1.5"/>
  <text x="260" y="622" text-anchor="middle" font-size="12" font-weight="600" fill="#6C3483">Update Rules &amp; Checklists</text>
  <text x="260" y="637" text-anchor="middle" font-size="10" fill="#6C3483">fix gaps, add guardrails</text>

  <!-- Change process loops back (left side) -->
  <path d="M 160 625 C 80 625, 80 178, 157 178" fill="none" stroke="#8E44AD" stroke-width="1.5" stroke-dasharray="6,3" marker-end="url(#arrPurple)"/>
  <text x="75" y="400" text-anchor="middle" font-size="9" fill="#8E44AD" transform="rotate(-90, 75, 400)">next sprint is better</text>

  <!-- Bottom note -->
  <text x="260" y="680" text-anchor="middle" font-size="10" fill="#999" font-style="italic">Each role is a dedicated sub-agent. Gates pause for your approval.</text>
</svg>
